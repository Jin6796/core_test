<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="#">
    <title>waiDev</title>
    <link href="/waiDev/vendor/fontawesome-free/css/all.css" rel="stylesheet" type="text/css">
    <link href="/waiDev/vendor/bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="/waiDev/css/ruang-admin.css" rel="stylesheet">
    
    <script src="/wai/wai.js"></script>
    <script type="text/javascript" src="/js/common.js"></script>
    
    <script>
	    function searchAuth(authId) {
	    	var data = {auth_id: "", auth_name: "", auth_type: ""};
            svcCall("selectUserAuthList", data, callback);
            function callback(rs) {
            	authGrid.SetJsonStorage("AUTH001", common_combo_data.auth_type);
            	authGrid.SetData(rs);
            	if (authId) {
            		var index = -1;
            		for (var i in rs) {
                        if (authId == rs[i].AUTH_ID) {authGrid.SelectRow(i); break; }
                    }
                    if (!authGrid.getSelection()) { authGrid.SelectRow(authGrid.GetData().length-1); }
                    authGridRowClick();
            	}
            };
	    }
	    
	    function authGridRowClick() {
	    	var uData = authGrid.getSelection();
            document.getElementById("auth_id").value = uData.AUTH_ID;
            document.getElementById("auth_name").value = uData.AUTH_NAME;
            document.getElementById("auth_type").value = uData.AUTH_TYPE;
            document.getElementById("auth_desc").value = uData.AUTH_DESC;
            document.getElementById("auth_inq").value = uData.INQ_AUTH_YN;
            document.getElementById("auth_reg").value = uData.REG_AUTH_YN;
            document.getElementById("auth_upd").value = uData.UPD_AUTH_YN;
            document.getElementById("auth_del").value = uData.DEL_AUTH_YN;
            
            var data = {auth_id: uData.AUTH_ID};
            svcCall("selectUserGrpAuthList", data, callback);
            function callback(rs){
            	grpGrid.SetData(rs);
            }
	    }
	    
	    function svcCall_save(dv) {
        	switch(dv) {
	        	case "A": // Auth
	        		var fn = document.getElementById("auth_id").value ? "update" : "regist";
	                var sndData = {
	                    	auth_id: document.getElementById("auth_id").value,
	                        auth_name: document.getElementById("auth_name").value,
	                        auth_type: document.getElementById("auth_type").value,
	                        auth_desc: document.getElementById("auth_desc").value,
	                        inq_auth_yn: document.getElementById("auth_inq").value,
	                        reg_auth_yn: document.getElementById("auth_reg").value,
	                        upd_auth_yn: document.getElementById("auth_upd").value,
	                        del_auth_yn: document.getElementById("auth_del").value,
	                        reg_user: getLoginUser(),
	                        upd_user: getLoginUser()
	                    };
// 	                console.log("fn --> ", fn);
// 	                console.log("sndData --> ", sndData);
	                svcCall(fn + "UserAuth", sndData, function (rs) {
	                    console.log("callback -->", rs);
	                    if (rs.tran == true) { // success
	                        var aId = sndData.auth_id ? sndData.auth_id : true;
	                        searchAuth(aId);
	                        clearInput();
	                    } else { // error
	                        console.error("[ERROR] Service Transaction error.");
	                    }
	                });
	        		break;
	        	case "G": // Group
	        		var addGrp = [];
	        		var grpList = JSON.parse(JSON.stringify(authGrpListGrid.GetData()));
	        		for (var i=0; i<grpList.length; i++) {
	        			addGrp.push(grpList[i].USER_GRP_ID);
	        		}
	        		var data = {
	        			auth_id: document.getElementById("auth_id").value,
        				auth_grps: addGrp,
        				reg_user: getLoginUser(),
        				upd_user: getLoginUser()
	        		};
	        		svcCall("registUserGrpAuth", data, function(rs) {
// 	        			console.log("rs:",rs);
	        			if (rs) {
	        				if (rs.tran == true) { // success
	        					authGridRowClick();
		            			closeModal();
		            		}
	        			} else { // error
	                        console.error("[ERROR] Service Transaction error.");
	                    }
	            	});
	        		break;
        	}
        }
	    
	    function svcCall_del(dv) {
        	var sndData = null;
        	switch(dv) {
	        	case "A": // Auth
	        		var dAuths = authGrid.getCheckedRows();
                    sndData = {"auth_id": []};
                    for (var i in dAuths) {
                        sndData.auth_id.push(dAuths[i].AUTH_ID);
                    }
                    for (var i in authGrid.gridObj.selectorArr.rows) {
                    	authGrid.SelectRow(authGrid.gridObj.selectorArr.rows[i]);
                    	authGrid.DeleteRow(authGrid.gridObj.selectorArr.rows[i]);
                        clearInput();
                    }
                    //console.log("sndData --> ", sndData);
                    svcCall("deleteUserAuth", sndData, function (rs) {
                        console.log("callback -->", rs);
                        if (rs == true) { // success
                        	searchAuth();
                            clearInput();
                        } else { // error
                            console.error("[ERROR] Service Transaction error.");
                        }
                    });
	        		break;
	        	case "G": // Group
	        		var grps = grpGrid.getCheckedRows();
	                sndData = {"auth_id": document.getElementById("auth_id").value, "user_grp_id": []};
	                for (var i in grps) {
	                    sndData.user_grp_id.push(grps[i].USER_GRP_ID);
	                }
	                for (var i in grpGrid.gridObj.selectorArr.rows) {
	                	grpGrid.SelectRow(grpGrid.gridObj.selectorArr.rows[i]);
	                	grpGrid.DeleteRow(grpGrid.gridObj.selectorArr.rows[i]);
	                }
	                console.log("sndData --> ", sndData);
	                svcCall("deleteUserGrpAuth", sndData, callback);
	                function callback(rs) {
	                    //console.log("callback -->", rs);
	                    if (rs == true) { // success
	                    	//searchUserGrp();
	                        //clearInput();
	                    } else { // error
	                        console.error("[ERROR] Service Transaction error.");
	                    }
	                };
	        		break;
        	}
            return;
        }
	    
	    var inqAllGrps = null;
        function loadAllGrps(grpId) {
            var data = {user_grp_id: "", user_grp_name: ""};
            svcCall("userGrpListInquiry", data, callback);
            function callback(rs) {
            	inqAllGrps = JSON.parse(JSON.stringify(rs));
            	loadGrps(grpId);
            };
        }
	    
        function loadGrps(grpId) {
        	var data = JSON.parse(JSON.stringify(inqAllGrps));
        	var aGrpList = authGrpListGrid.GetData();
            for (var i=0; i<data.length; i++) {
                for (var j=0; j<aGrpList.length; j++) {
                    if (data[i].USER_GRP_ID == aGrpList[j].USER_GRP_ID) {
                    	data.splice(i, 1);
                    }
                }
            }
            
            allListGrid.SetData(data);
            if (grpId) {
                for (var i in data) {
                    if (grpId == data[i].USER_GRP_ID) allListGrid.SelectRow(i);
                }
            }
        }
        
        function loadAuthGrp() {
	    	authGrpListGrid.SetData(grpGrid.GetData());
        }
        
        function moveItems(add) {
        	var idx = 0;
        	var gridChkIdx = -1;
            var checkRows = null;
            if (add) {
                gridChkIdx = allListGrid.getCheckedRowsIndex();
                checkRows = JSON.parse(JSON.stringify(allListGrid.getCheckedRows()));
                
                var aGrpData = authGrpListGrid.GetData();
                var apdData = aGrpData.concat(allListGrid.getCheckedRows());
                apdData.sort(function(a, b) {
                    return a.USER_GRP_ID < b.USER_GRP_ID ? -1 : a.USER_GRP_ID > b.USER_GRP_ID ? 1 : 0;
                });
                authGrpListGrid.SetData(apdData);
                for(var i=0; i<gridChkIdx.length; i++) {
                    allListGrid.DeleteRow(gridChkIdx[i]);
                }
                
                allListGrid.setUnCheckAll();
                for (var ca=0; ca<checkRows.length; ca++) {
                	for (cu=0; cu<authGrpListGrid.GetData().length; cu++) {
                		if (checkRows[ca].USER_GRP_ID == authGrpListGrid.GetData()[cu].USER_GRP_ID) {
                			//authGrpListGrid.setCheckRows(cu, true);
                			//authGrpListGrid.SelectRow(cu);
                			idx = cu;
                			break;
                		}
                	}
                }
                authGrpListGrid.SelectRow(idx);
            }
            else {
                gridChkIdx = authGrpListGrid.getCheckedRowsIndex();
                checkRows = JSON.parse(JSON.stringify(authGrpListGrid.getCheckedRows()));
                
                append(0);
                function append(i) {
                    if (i == gridChkIdx.length) {
                        loadGrps();
                        
                        authGrpListGrid.setUnCheckAll();
                        for (var ca=0; ca<checkRows.length; ca++) {
                        	for (cu=0; cu<allListGrid.GetData().length; cu++) {
                        		if (checkRows[ca].USER_GRP_ID == allListGrid.GetData()[cu].USER_GRP_ID) {
                        			//allListGrid.setCheckRows(cu, true);
                        			//allListGrid.SelectRow(cu);
                        			idx = cu;
                        			break;
                        		}
                        	}
                        }
                        allListGrid.SelectRow(idx);
                        return;
                    } else {
                    	authGrpListGrid.DeleteRow(gridChkIdx[i]);
                        i++;
                    }
                    append(i);
                }
            }
        }
        
	    function openModal(tit, txt, addC, rmvC) {
        	if (!authGrid.getSelection()) return;
            $("#addListModal").modal({show: true});
            loadAuthGrp();
            loadAllGrps();
        }
	    
        function closeModal() {
        	$("#addListModal").modal('hide');
        }

        function clearInput() {
            document.getElementById("auth_id").value = "";
            document.getElementById("auth_name").value = "";
            document.getElementById("auth_type").value = "M";
            document.getElementById("auth_desc").value = "";
            document.getElementById("auth_inq").value = "Y";
            document.getElementById("auth_reg").value = "Y";
            document.getElementById("auth_upd").value = "Y";
            document.getElementById("auth_del").value = "Y";
            grpGrid.clear();
        }
        
    </script>
</head>
<body id="page-top">
<div id="wrapper">
    <!-- Sidebar : Navigation -->
    <ul class="navbar-nav sidebar sidebar-light" id="navigation"></ul>

    <!-- Main -->
    <div id="content-wrapper" class="d-flex flex-column">
        <div id="content">
            <!-- TopBar -->
            <nav class="navbar navbar-expand navbar-light bg-navbar topbar mb-4 static-top" >
                <button id="sidebarToggleTop" class="btn btn-link rounded-circle mr-3">
                    <i class="fa fa-bars"></i>
                </button>
                <ul class="navbar-nav ml-auto" id="topBar"></ul>
            </nav>

            <!-- Container Fluid-->
            <div class="container-fluid" id="container-wrapper">
                <div class="d-sm-flex align-items-center justify-content-between">
                    <h1 class="h4 mb-0 text-gray-800">권한 관리</h1>
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="card shadow-sm my-4 mb-4">
                            <div class="card-body p-0">
                                <div class="row">
                                    <div class="col-lg-7 pl-4">
                                        <div class="default-form mb-1">
                                            <form action="javascript:void(0)" > <!--onsubmit="return svcCall_user('save')">-->
                                            	<div class="form-group">
                                                    <input type="hidden" name="" id="" value=""/>
                                                </div>
                                                <div class="d-flex flex-row align-items-center justify-content-between">
                                                    <h5 class="m-0 font-weight-bold text-primary">Authorization List</h5>
                                                </div>
                                                <div class="py-3">
                                                    <div style="width:100%;height:100%;border:1px solid #d1d3e2;">
                                                        <grid id="authGrid" style="width: 100%; height:290px;" onrecordclick="authGridRowClick(event)">
                                                            "options" : {
                                                                "editable":false
                                                                ,"columnHeight":41
                                                                ,"cellHeight":29
                                                                ,"fixColumn":0
                                                                ,"conditionalstyle":""
                                                                ,"group":""
                                                                ,"aggregate":""
                                                                ,"appendmode":false
                                                                ,"autohiddencols":false
                                                                ,"autofit":false
                                                                ,"contextmenu":true
                                                                ,"indicator":{"show":true,"width":40}
                                                                ,"selector":{"show":true,"width":20,"checked":"none","type":"check"}
                                                                ,"columns" : [
                                                                    {"text":"Auth ID","alignment":"center","width":120,"type":"column","height":40,"editable":"false","visible":"false","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"AUTH_ID"}
                                                                    ,{"text":"Auth Name","alignment":"center","width":120,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"left"},"style":"light","field":"AUTH_NAME"}
                                                                    ,{"text":"Auth Type","alignment":"center","width":120,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"LookupComboBox","mask":"keyfieldnames : dispField","codeName":"AUTH001","keyfieldnames":"CODE","dispField":"CODE_NM","alignment":"left"},"style":"light","field":"AUTH_TYPE"}
                                                                    ,{"text":"Inquiry","alignment":"center","width":60,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"INQ_AUTH_YN"}
                                                                    ,{"text":"Regist","alignment":"center","width":60,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"REG_AUTH_YN"}
                                                                    ,{"text":"Update","alignment":"center","width":60,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"UPD_AUTH_YN"}
                                                                    ,{"text":"Delete","alignment":"center","width":60,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"DEL_AUTH_YN"}
                                                                    ,{"text":"Description","alignment":"center","width":200,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"left"},"style":"light","field":"AUTH_DESC"}
                                                                    ,{"text":"Regist User","alignment":"center","width":90,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"REG_USER"}
                                                                    ,{"text":"Regist Date","alignment":"center","width":125,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"REG_DATE"}
                                                                    ,{"text":"Update User","alignment":"center","width":90,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"UPD_USER"}
                                                                    ,{"text":"Update Date","alignment":"center","width":125,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"UPD_DATE"}
                                                                ]
                                                                ,"style" : {
                                                                    "light" : {
                                                                        "header":{"color":"#eaecf4","font":{"style":"normal","variant":"normal","weight":"bold","size":"13","lineHeight":"normal","family":"Nunito","color":"#5f616e","text":"bold 13px Nunito"}}
                                                                        ,"cell":{"color":"#ffffff","font":{"style":"normal","variant":"normal","weight":"normal","size":"12","lineHeight":"normal","family":"Arial","color":"#757575","text":"normal 12px Arial"}}
                                                                    }
                                                                }
                                                                ,"effect":{"columnHighlight":true}
                                                                ,"size":{"vertScrollWidth":19}
                                                                ,"footer":{"show":true,"height":24}
                                                            },
                                                            "data":[]
                                                        </grid>
                                                    </div>
                                                </div>
                                                
                                                <div class="form-group d-none">
													<label class="text-sm font-weight-bold">Auth ID</label>
                                                   	<input type="text" class="form-control" id="auth_id" disabled>
                                                </div>
                                                <div class="form-group">
	                                                <div class="row">
														<div class="col-6 pr-1">
															<label class="text-sm font-weight-bold">Auth Name</label>
															<span class="required">*</span>
	                                                    	<input type="text" class="form-control" id="auth_name" required>
	                                                	</div>
	                                                	<div class="col-6 pl-1">
															<label class="text-sm font-weight-bold">Auth Type</label>
	                                                    	<select class="form-control" id="auth_type">
		                                                        <option value="M">M : 메뉴</option>
		                                                        <option value="D">D : 디렉토리</option>
		                                                        <option value="P">P : 프로그램 (파일)</option>
		                                                 	</select>
	                                                	</div>
	                                                </div>
	                                            </div>
	                                            <div class="form-group">
                                                    <label class="text-sm font-weight-bold">Description</label>
                                                    <input type="text" class="form-control" id="auth_desc">
                                                </div>
                                                <div class="form-group">
                                                	<div class="row">
														<div class="col-3 pr-1">
															<label class="text-sm font-weight-bold">Inquiry</label>
	                                                    	<select class="form-control" id="auth_inq">
		                                                        <option value="Y" selected>Y : Yes</option>
		                                                    	<option value="N">N : No</option>
                                                    		</select>
	                                                	</div>
														<div class="col-3 px-1">
															<label class="text-sm font-weight-bold">Regist</label>
	                                                    	<select class="form-control" id="auth_reg">
		                                                        <option value="Y" selected>Y : Yes</option>
		                                                    	<option value="N">N : No</option>
                                                    		</select>
	                                                	</div>
														<div class="col-3 px-1">
															<label class="text-sm font-weight-bold">Update</label>
	                                                    	<select class="form-control" id="auth_upd">
		                                                        <option value="Y" selected>Y : Yes</option>
		                                                    	<option value="N">N : No</option>
                                                    		</select>
	                                                	</div>
														<div class="col-3 pl-1">
															<label class="text-sm font-weight-bold">Delete</label>
	                                                    	<select class="form-control" id="auth_del">
		                                                        <option value="Y" selected>Y : Yes</option>
		                                                    	<option value="N">N : No</option>
                                                    		</select>
	                                                	</div>
                                               		</div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="col-3">
                                                            <button type="submit" class="btn btn-secondary" onclick="svcCall_del('A')">Delete</button>
                                                        </div>
                                                        <div class="text-right col-9">
                                                            <button type="submit" class="btn btn-primary" onclick="svcCall_save('A')">Save</button>
                                                            <button type="submit" class="btn btn-outline-primary" onclick="searchAuth();clearInput();">Clear</button>
                                                        </div>
                                                    </div>

                                                </div>
                                            </form>
                                            <div class="text-center">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-5 my-3 mb-1">
                                        <div class="pt-3 pl-3 d-flex flex-row align-items-center justify-content-between">
                                            <h5 class="m-0 font-weight-bold text-primary">Group List</h5>
                                        </div>
                                        <div class="default-form">
                                            <div class="mb-1">
                                                <div class="card-body p-0 pr-2">
                                                    <div class="row">
                                                        <div class="col-12 pr-2">
                                                            <div style="width:100%;height:100%;border:1px solid #d1d3e2;">
                                                            	<grid id="grpGrid" style="width: 100%; height:510px;">
		                                                            "options" : {
		                                                                "editable":false
		                                                                ,"columnHeight":41
		                                                                ,"cellHeight":29
		                                                                ,"fixColumn":0
		                                                                ,"conditionalstyle":""
		                                                                ,"group":""
		                                                                ,"aggregate":""
		                                                                ,"appendmode":false
		                                                                ,"autohiddencols":false
		                                                                ,"autofit":false
		                                                                ,"contextmenu":true
		                                                                ,"indicator":{"show":true,"width":40}
		                                                                ,"selector":{"show":true,"width":20,"checked":"none","type":"check"}
		                                                                ,"columns" : [
		                                                                    {"text":"Group ID","alignment":"center","width":120,"type":"column","height":40,"editable":"false","visible":"false","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"USER_GRP_ID"}
		                                                                    ,{"text":"Group Name","alignment":"center","width":120,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"GRP_NAME"}
		                                                                    ,{"text":"Description","alignment":"center","width":200,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"left"},"style":"light","field":"GRP_DESC"}
		                                                                    ,{"text":"Regist User","alignment":"center","width":90,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"REG_USER"}
		                                                                    ,{"text":"Regist Date","alignment":"center","width":125,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"REG_DATE"}
		                                                                    ,{"text":"Update User","alignment":"center","width":90,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"UPD_USER"}
		                                                                    ,{"text":"Update Date","alignment":"center","width":125,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"UPD_DATE"}
		                                                                ]
		                                                                ,"style" : {
		                                                                    "light" : {
		                                                                        "header":{"color":"#eaecf4","font":{"style":"normal","variant":"normal","weight":"bold","size":"13","lineHeight":"normal","family":"Nunito","color":"#5f616e","text":"bold 13px Nunito"}}
		                                                                        ,"cell":{"color":"#ffffff","font":{"style":"normal","variant":"normal","weight":"normal","size":"12","lineHeight":"normal","family":"Arial","color":"#757575","text":"normal 12px Arial"}}
		                                                                    }
		                                                                }
		                                                                ,"effect":{"columnHighlight":true}
		                                                                ,"size":{"vertScrollWidth":19}
		                                                                ,"footer":{"show":true,"height":24}
		                                                            },
		                                                            "data":[]
	                                                        	</grid>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="text-right col-12 my-3 pr-0">
                                                        <button type="submit" class="btn btn-primary" onclick="openModal()">Add</button>
                                                        <button type="submit" class="btn btn-secondary" onclick="svcCall_del('G')">Delete</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    	
    	<!-- Modal Center -->
	    <div id=commonModal class="row mb-3"></div>
	    <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="infoModal_title" aria-hidden="true">
	        <div class="modal-dialog modal-dialog-centered" role="document">
	            <div class="modal-content">
	                <div class="modal-header">
	                    <h5 class="modal-title" id="infoModal_title"></h5>
	                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                        <span aria-hidden="true">&times;</span>
	                    </button>
	                </div>
	                <div class="modal-body font-weight-bold" id="infoModal_txt"></div>
	                <div class="modal-footer">
	                    <button type="button" class="btn btn-outline-primary" data-dismiss="modal">Close</button>
	                </div>
	            </div>
	        </div>
	    </div>
	
	    <div class="modal fade" id="addListModal" tabindex="-1" role="dialog" aria-labelledby="addListModal_title" aria-modal="true" style="">
	        <div class="modal-dialog modal-dialog-scrollable" role="document" style="max-width: 80vw;">
	            <div class="modal-content">
	                <div class="modal-header">
	                    <h5 class="modal-title" id="addListModal_title">Add Groups</h5>
	                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                        <span aria-hidden="true">×</span>
	                    </button>
	                </div>
	                <div class="modal-body">
	                    <div class="row">
	                        <div class="col-55">
	                            <h5 class="font-weight-bold pl-4">All Groups</h5>
	                            <div class="row">
	                                <div class="col-12 pl-4 pr-2">
	                                    <div style="width:99.9%;height:100%;border:1px solid #d1d3e2;">
	                                        <grid id="allListGrid" style="width: 100%; height:572px;">
	                                            "options" : {
	                                            "editable":false
	                                            ,"columnHeight":41
	                                            ,"cellHeight":29
	                                            ,"fixColumn":0
	                                            ,"conditionalstyle":""
	                                            ,"group":""
	                                            ,"aggregate":""
	                                            ,"appendmode":false
	                                            ,"autohiddencols":false
	                                            ,"autofit":false
	                                            ,"contextmenu":true
	                                            ,"indicator":{"show":true,"width":30}
	                                            ,"selector":{"show":true,"width":20,"checked":"none","type":"check"}
	                                            ,"columns" :[
                                                    {"text":"Group ID","alignment":"center","width":120,"type":"column","height":40,"editable":"false","visible":"false","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"USER_GRP_ID"}
                                                    ,{"text":"Group Name","alignment":"center","width":120,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"GRP_NAME"}
                                                    ,{"text":"Description","alignment":"center","width":200,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"left"},"style":"light","field":"GRP_DESC"}
                                                    ,{"text":"Regist User","alignment":"center","width":90,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"REG_USER"}
                                                    ,{"text":"Regist Date","alignment":"center","width":125,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"REG_DATE"}
                                                    ,{"text":"Update User","alignment":"center","width":90,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"UPD_USER"}
                                                    ,{"text":"Update Date","alignment":"center","width":125,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"UPD_DATE"}
                                                ]
	                                            ,"style" : {
	                                            "light" : {
	                                            "header":{"color":"#eaecf4","font":{"style":"normal","variant":"normal","weight":"bold","size":"13","lineHeight":"normal","family":"Nunito","color":"#5f616e","text":"bold 13px Nunito"}}
	                                            ,"cell":{"color":"#ffffff","font":{"style":"normal","variant":"normal","weight":"normal","size":"12","lineHeight":"normal","family":"Arial","color":"#757575","text":"normal 12px Arial"}}
	                                            }
	                                            }
	                                            ,"effect":{"columnHighlight":true}
	                                            ,"size":{"vertScrollWidth":19}
	                                            ,"footer":{"show":true,"height":24}
	                                            },
	                                            "data":[]
	                                        </grid>
	                                    </div>
	                                </div>
	                            </div>
	                        </div>
	                        <div class="col-05 p-sm-0 text-center" style="line-height:3rem;">
	                            <table class="h-100">
	                                <tr>
	                                    <td>
	                                        <button type="button" class="btn btn-primary" onclick="moveItems(1)"><i class="fas fa-arrow-right"></i></button>
	                                        <button type="button" class="btn btn-primary" onclick="moveItems(0)"><i class="fas fa-arrow-left"></i></button>
	                                    </td>
	                                </tr>
	                            </table>
	
	                        </div>
	                        <div class="col-55">
	                            <h5 class="font-weight-bold">Auth Groups</h5>
	                            <div class="row">
	                                <div class="col-12 px-2">
	                                    <div style="width:99.9%;height:100%;border:1px solid #d1d3e2;">
	                                        <grid id="authGrpListGrid" style="width: 100%; height:572px;">
	                                            "options" : {
	                                            "editable":false
	                                            ,"columnHeight":41
	                                            ,"cellHeight":29
	                                            ,"fixColumn":0
	                                            ,"conditionalstyle":""
	                                            ,"group":""
	                                            ,"aggregate":""
	                                            ,"appendmode":false
	                                            ,"autohiddencols":false
	                                            ,"autofit":false
	                                            ,"contextmenu":true
	                                            ,"indicator":{"show":true,"width":30}
	                                            ,"selector":{"show":true,"width":20,"checked":"none","type":"check"}
	                                            ,"columns" : [
                                                    {"text":"Group ID","alignment":"center","width":120,"type":"column","height":40,"editable":"false","visible":"false","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"USER_GRP_ID"}
                                                    ,{"text":"Group Name","alignment":"center","width":120,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"GRP_NAME"}
                                                    ,{"text":"Description","alignment":"center","width":200,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"left"},"style":"light","field":"GRP_DESC"}
                                                    ,{"text":"Regist User","alignment":"center","width":90,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"REG_USER"}
                                                    ,{"text":"Regist Date","alignment":"center","width":125,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"REG_DATE"}
                                                    ,{"text":"Update User","alignment":"center","width":90,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"UPD_USER"}
                                                    ,{"text":"Update Date","alignment":"center","width":125,"type":"column","height":40,"editable":"false","visible":"true","sortable":true,"sortType":"string","editor":{"type":"text","alignment":"center"},"style":"light","field":"UPD_DATE"}
                                                ]
	                                            ,"style" : {
	                                            "light" : {
	                                            "header":{"color":"#eaecf4","font":{"style":"normal","variant":"normal","weight":"bold","size":"13","lineHeight":"normal","family":"Nunito","color":"#5f616e","text":"bold 13px Nunito"}}
	                                            ,"cell":{"color":"#ffffff","font":{"style":"normal","variant":"normal","weight":"normal","size":"12","lineHeight":"normal","family":"Arial","color":"#757575","text":"normal 12px Arial"}}
	                                            }
	                                            }
	                                            ,"effect":{"columnHighlight":true}
	                                            ,"size":{"vertScrollWidth":19}
	                                            ,"footer":{"show":true,"height":24}
	                                            },
	                                            "data":[]
	                                        </grid>
	                                    </div>
	                                </div>
	                            </div>
	                        </div>
	                    </div>
	                </div>
	                <div class="modal-footer">
	                    <button type="button" class="btn btn-primary" onclick="svcCall_save('G')">Save</button>
	                    <button type="button" class="btn btn-outline-primary" data-dismiss="modal">Close</button>
	                </div>
	            </div>
	        </div>
	    </div>
    	
    	<!-- Scroll to top -->
	    <a class="scroll-to-top rounded" href="#page-top">
	        <i class="fas fa-angle-up"></i>
	    </a>
    </div>
</div>
<!--<script src="vendor/jquery/jquery.min.js"></script>-->
<script src="/waiDev/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/waiDev/vendor/jquery-easing/jquery.easing.min.js"></script>
<!--<script src="js/ruang-admin.min.js"></script>-->
<script src="/waiDev/js/ruang-admin.js"></script>
<script>
    $(document).ready( function() {
    	onLoadCommon();
        searchAuth();
    });
</script>
</body>
</html>
